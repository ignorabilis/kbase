["^ ","~:output",["^ ","~:js","goog.provide('fulcro.inspect.lib.misc');\r\ngoog.require('cljs.core');\r\nfulcro.inspect.lib.misc.fixed_size_assoc = (function fulcro$inspect$lib$misc$fixed_size_assoc(size,db,key,value){\r\nvar map__40586 = cljs.core.update.cljs$core$IFn$_invoke$arity$4(cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(db,key,value),new cljs.core.Keyword(\"fulcro.inspect.lib.misc\",\"history\",\"fulcro.inspect.lib.misc/history\",1140630734),cljs.core.fnil.cljs$core$IFn$_invoke$arity$2(cljs.core.conj,cljs.core.PersistentVector.EMPTY),key);\r\nvar map__40586__$1 = ((((!((map__40586 == null)))?(((((map__40586.cljs$lang$protocol_mask$partition0$ & (64))) || ((cljs.core.PROTOCOL_SENTINEL === map__40586.cljs$core$ISeq$))))?true:false):false))?cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.hash_map,map__40586):map__40586);\r\nvar db_SINGLEQUOTE_ = map__40586__$1;\r\nvar history = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__40586__$1,new cljs.core.Keyword(\"fulcro.inspect.lib.misc\",\"history\",\"fulcro.inspect.lib.misc/history\",1140630734));\r\nif((cljs.core.count(history) > size)){\r\nreturn cljs.core.update.cljs$core$IFn$_invoke$arity$3(cljs.core.dissoc.cljs$core$IFn$_invoke$arity$2(db_SINGLEQUOTE_,cljs.core.first(history)),new cljs.core.Keyword(\"fulcro.inspect.lib.misc\",\"history\",\"fulcro.inspect.lib.misc/history\",1140630734),((function (map__40586,map__40586__$1,db_SINGLEQUOTE_,history){\r\nreturn (function (p1__40584_SHARP_){\r\nreturn cljs.core.vec(cljs.core.next(p1__40584_SHARP_));\r\n});})(map__40586,map__40586__$1,db_SINGLEQUOTE_,history))\r\n);\r\n} else {\r\nreturn db_SINGLEQUOTE_;\r\n}\r\n});\r\n","~:ns-info",["^ ","~:rename-macros",null,"~:renames",["^ "],"~:meta",["^ ","~:file","fulcro/inspect/lib/misc.cljs","~:line",1,"~:column",5,"~:end-line",1,"~:end-column",28],"~:ns-aliases",["^ ","~$clojure.core.async","~$cljs.core.async","~$clojure.stacktrace","~$cljs.stacktrace","~$clojure.spec.alpha","~$cljs.spec.alpha"],"~:use-macros",null,"~:excludes",["~#set",[]],"~:name","~$fulcro.inspect.lib.misc","~:op","~:ns","~:imports",null,"~:requires",["^ ","~$cljs.core","^K","~$goog","^L"],"~:seen",["^D",[]],"~:uses",null,"~:require-macros",["^ ","^K","^K"],"~:form",["~#list",["~$ns","^F"]],"~:js-deps",["^ "],"~:deps",["^L","^K"]],"^H","^F","~:resource-id",["~:shadow.build.classpath/resource","fulcro/inspect/lib/misc.cljs"],"~:compiled-at",1537360514530,"~:resource-name","fulcro/inspect/lib/misc.cljs","~:warnings",[],"~:source","(ns fulcro.inspect.lib.misc)\n\n(defn fixed-size-assoc [size db key value]\n  (let [{::keys [history] :as db'}\n        (-> db\n            (assoc key value)\n            (update ::history (fnil conj []) key))]\n    (if (> (count history) size)\n      (-> db'\n          (dissoc (first history))\n          (update ::history #(vec (next %))))\n      db')))\n","~:reader-features",["^D",["~:cljs"]],"~:source-map",["^ ","~i2",["^ ","~i0",[["^ ","~:gcol",0,"~:gline",2],["^ ","^12",43,"^13",2],["^ ","^12",0,"^13",3]],"~i6",[["^ ","^12",0,"^13",2,"^E","fulcro.inspect.lib.misc/fixed-size-assoc"]],"~i24",[["^ ","^12",94,"^13",2,"^E","size"]],"~i29",[["^ ","^12",99,"^13",2,"^E","db"]],"~i32",[["^ ","^12",102,"^13",2,"^E","key"]],"~i36",[["^ ","^12",106,"^13",2,"^E","value"]]],"~i3",["^ ","~i2",[["^ ","^12",0,"^13",3],["^ ","^12",4,"^13",3,"^E","map__40586"],["^ ","^12",4,"^13",4,"^E","map__40586"],["^ ","^12",21,"^13",4],["^ ","^12",23,"^13",4],["^ ","^12",25,"^13",4],["^ ","^12",27,"^13",4],["^ ","^12",28,"^13",4,"^E","map__40586"],["^ ","^12",42,"^13",4],["^ ","^12",50,"^13",4],["^ ","^12",52,"^13",4],["^ ","^12",54,"^13",4],["^ ","^12",55,"^13",4],["^ ","^12",55,"^13",4,"^E","map__40586"],["^ ","^12",104,"^13",4],["^ ","^12",115,"^13",4],["^ ","^12",116,"^13",4,"^E","cljs.core/PROTOCOL_SENTINEL"],["^ ","^12",148,"^13",4],["^ ","^12",148,"^13",4,"^E","map__40586"],["^ ","^12",179,"^13",4],["^ ","^12",184,"^13",4],["^ ","^12",191,"^13",4],["^ ","^12",199,"^13",4],["^ ","^12",199,"^13",4,"^E","cljs.core.apply.cljs$core$IFn$_invoke$arity$2"],["^ ","^12",245,"^13",4,"^E","cljs.core/hash-map"],["^ ","^12",264,"^13",4,"^E","map__40586"],["^ ","^12",276,"^13",4,"^E","map__40586"],["^ ","^12",22,"^13",5,"^E","map__40586"],["^ ","^12",14,"^13",6],["^ ","^12",14,"^13",6,"^E","cljs.core.get.cljs$core$IFn$_invoke$arity$2"],["^ ","^12",58,"^13",6,"^E","map__40586"],["^ ","^12",73,"^13",6],["^ ","^12",0,"^13",7]],"~i17",[["^ ","^12",4,"^13",6,"^E","history"]],"~i30",[["^ ","^12",4,"^13",5,"^E","db'"]]],"~i4",["^ ","~i12",[["^ ","^12",110,"^13",3,"^E","db"]]],"~i5",["^ ","^1:",[["^ ","^12",64,"^13",3]],"~i13",[["^ ","^12",64,"^13",3,"^E","cljs.core.assoc.cljs$core$IFn$_invoke$arity$3"]],"~i19",[["^ ","^12",113,"^13",3,"^E","key"]],"~i23",[["^ ","^12",117,"^13",3,"^E","value"]]],"~i6",["^ ","^1:",[["^ ","^12",17,"^13",3],["^ ","^12",124,"^13",3]],"^1;",[["^ ","^12",17,"^13",3,"^E","cljs.core.update.cljs$core$IFn$_invoke$arity$4"]],"^19",[["^ ","^12",228,"^13",3],["^ ","^12",288,"^13",3]],"~i31",[["^ ","^12",228,"^13",3,"^E","cljs.core.fnil.cljs$core$IFn$_invoke$arity$2"]],"^17",[["^ ","^12",273,"^13",3,"^E","cljs.core/conj"]],"~i45",[["^ ","^12",322,"^13",3,"^E","key"]]],"~i7",["^ ","~i4",[["^ ","^12",0,"^13",7]],"~i8",[["^ ","^12",3,"^13",7]],"~i11",[["^ ","^12",4,"^13",7]],"^1:",[["^ ","^12",4,"^13",7,"^E","cljs.core/count"]],"~i18",[["^ ","^12",20,"^13",7,"^E","history"]],"~i27",[["^ ","^12",31,"^13",7,"^E","size"]]],"~i8",["^ ","~i10",[["^ ","^12",101,"^13",8,"^E","db'"]]],"~i9",["^ ","^1C",[["^ ","^12",54,"^13",8]],"^1@",[["^ ","^12",54,"^13",8,"^E","cljs.core.dissoc.cljs$core$IFn$_invoke$arity$2"]],"^1A",[["^ ","^12",117,"^13",8]],"^1<",[["^ ","^12",117,"^13",8,"^E","cljs.core/first"]],"~i25",[["^ ","^12",133,"^13",8,"^E","history"]]],"^1C",["^ ","^1C",[["^ ","^12",0,"^13",8],["^ ","^12",143,"^13",8],["^ ","^12",247,"^13",8],["^ ","^12",18,"^13",9,"^E","p1__40584#"],["^ ","^12",0,"^13",10]],"^1@",[["^ ","^12",7,"^13",8,"^E","cljs.core.update.cljs$core$IFn$_invoke$arity$3"]],"^15",[["^ ","^12",0,"^13",10]],"^19",[["^ ","^12",7,"^13",10,"^E","cljs.core/vec"]],"~i34",[["^ ","^12",21,"^13",10],["^ ","^12",36,"^13",10,"^E","p1__40584#"]],"~i35",[["^ ","^12",21,"^13",10,"^E","cljs.core/next"]]],"^1@",["^ ","~i6",[["^ ","^12",0,"^13",14,"^E","db'"]]]],"~:cljc",false],"~:cache-keys",["~#cmap",[["~:macro","^K"],[1537260906000],["^V","goog/math/math.js"],[1508737613441,"^L","~$goog.array","~$goog.asserts"],["^V","goog/array/array.js"],[1508737613441,"^L","^1L"],["^V","goog/debug/error.js"],[1508737613441,"^L"],["^V","goog/dom/nodetype.js"],[1508737613441,"^L"],["^V","goog/object/object.js"],[1508737613441,"^L"],"~:SHADOW-TIMESTAMP",[1537358551000,1537260906000],["^V","goog/math/long.js"],[1508737613441,"^L","^1L","~$goog.reflect"],["^V","goog/functions/functions.js"],[1508737613441,"^L"],["^V","goog/structs/map.js"],[1508737613441,"^L","~$goog.iter.Iterator","~$goog.iter.StopIteration","~$goog.object"],["^V","goog/asserts/asserts.js"],[1508737613441,"^L","~$goog.debug.Error","~$goog.dom.NodeType","~$goog.string"],["^V","goog/uri/uri.js"],[1508737613441,"^L","^1K","^1L","^1T","~$goog.structs","~$goog.structs.Map","~$goog.uri.utils","~$goog.uri.utils.ComponentIndex","~$goog.uri.utils.StandardQueryParam"],["^V","goog/base.js"],[1508737613441],["^V","goog/structs/structs.js"],[1508737613441,"^L","^1K","^1Q"],["^V","goog/string/string.js"],[1508737613441,"^L"],["^V","goog/reflect/reflect.js"],[1508737613441,"^L"],["^V","goog/string/stringbuffer.js"],[1508737613441,"^L"],["^V","fulcro/inspect/lib/misc.cljs"],[1537260907897,"^L","^K"],["^V","goog/iter/iter.js"],[1508737613441,"^L","^1K","^1L","~$goog.functions","~$goog.math"],["^V","cljs/core.cljs"],[1537260906289,"~$goog.math.Long","~$goog.math.Integer","^1T","^1Q","^1K","~$goog.Uri","~$goog.string.StringBuffer"],["^V","goog/math/integer.js"],[1508737613441,"^L"],["^V","goog/uri/utils.js"],[1508737613441,"^L","^1K","^1L","^1T"]]],"~:analyzer",["^ ","^3",null,"^4",["^ "],"^5",["^ ","^6","fulcro/inspect/lib/misc.cljs","^7",1,"^8",5,"^9",1,"^:",28],"^;",["^ ","^<","^=","^>","^?","^@","^A"],"^B",null,"^C",["^D",[]],"^E","^F","^I",null,"^J",["^ ","^K","^K","^L","^L"],"^M",["^D",[]],"^N",null,"~:defs",["^ ","~$fixed-size-assoc",["^ ","~:protocol-inline",null,"^5",["^ ","^6","fulcro/inspect/lib/misc.cljs","^7",3,"^8",7,"^9",3,"^:",23,"~:arglists",["^Q",["~$quote",["^Q",[["~$size","~$db","~$key","~$value"]]]]]],"^E","~$fulcro.inspect.lib.misc/fixed-size-assoc","~:variadic",false,"^6","fulcro/inspect/lib/misc.cljs","^:",23,"~:method-params",["^Q",[["^2:","^2;","^2<","^2="]]],"~:protocol-impl",null,"~:arglists-meta",["^Q",[null,null]],"^8",1,"^7",3,"^9",3,"~:max-fixed-arity",4,"~:fn-var",true,"^28",["^Q",["^29",["^Q",[["^2:","^2;","^2<","^2="]]]]]]],"^O",["^ ","^K","^K"],"~:cljs.analyzer/constants",["^ ","^M",["^D",["~:fulcro.inspect.lib.misc/history"]],"~:order",["^2F"]],"^S",["^ "],"^T",["^L","^K"]],"^H","^F","~:ns-specs",["^ "],"~:ns-speced-vars",[],"~:compiler-options",["^1I",[["^2J","~:static-fns"],true,["^2J","~:elide-asserts"],false,["^2J","~:optimize-constants"],null,["^2J","~:external-config"],null,["^2J","~:tooling-config"],null,["^2J","~:emit-constants"],null,["^2J","~:infer-externs"],true,["^2J","^["],null,["~:js-options","~:js-provider"],"~:shadow",["~:mode"],"~:dev",["^2J","~:fn-invoke-direct"],null,["^2J","^11"],"/dev/null"]]]